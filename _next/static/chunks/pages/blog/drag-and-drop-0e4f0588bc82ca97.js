(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7021],{11726:function(e,s,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/blog/drag-and-drop",function(){return n(87442)}])},11428:function(e,s,n){"use strict";n.d(s,{uw:function(){return a}});var a,t,r=n(85893),o=(n(67294),n(92814)),d=n(51436),l=n(35192),i=n(26671),c=n(28964),_=n.n(c);!function(e){e.HTML="html",e.CSS="css",e.JAVASCRIPT="javascript",e.TYPESCRIPT="typescript"}(a||(a={})),function(e){e.html="html",e.css="css",e.javascript="js",e.typescript="ts"}(t||(t={}));s.ZP=function(e){var s=e.name,n=e.code,a=e.language;return(0,r.jsxs)("div",{className:_().code,children:[(0,r.jsxs)("div",{className:_().code__header,children:[(0,r.jsxs)("div",{className:_().code__name,children:[(0,r.jsx)(o.G,{icon:d.gMD}),s,".",t[a]]}),(0,r.jsx)("div",{className:_().code__actions,children:(0,r.jsxs)("button",{className:_().code__control,onClick:function(){navigator.clipboard.writeText(n)},children:[(0,r.jsx)(o.G,{icon:d.kZ_}),(0,r.jsx)("span",{className:"visually-hidden",children:"Copy to clipboard"})]})})]}),(0,r.jsx)("div",{className:_().code__body,children:(0,r.jsx)(l.Z,{language:a,showLineNumbers:!0,style:i.Y3,children:n})})]})}},95319:function(e,s,n){"use strict";n.d(s,{Z:function(){return a.ZP}});var a=n(11428)},39609:function(e,s,n){"use strict";n.d(s,{W:function(){return a}});var a,t=n(85893),r=(n(67294),n(92814)),o=n(51436),d=n(47166),l=n.n(d),i=n(4391),c=n.n(i);!function(e){e.WAVY="wavy",e.CROSS="cross",e.SMILEY="smiley"}(a||(a={}));s.Z=function(e){var s=e.name,n=e.children,a=e.pattern,d=l().bind(c());return(0,t.jsxs)("div",{className:c().demo,children:[(0,t.jsxs)("div",{className:c().demo__header,children:[(0,t.jsx)("span",{className:c().demo__icon,children:(0,t.jsx)(r.G,{icon:o.S6C})}),s&&(0,t.jsx)("div",{className:c().demo__name,children:s}),(0,t.jsxs)("div",{className:c().demo__actions,children:[(0,t.jsx)("span",{className:c().demo__control,children:(0,t.jsx)(r.G,{icon:o.IQi})}),(0,t.jsx)("span",{className:c().demo__control,children:(0,t.jsx)(r.G,{icon:o.g82})})]})]}),(0,t.jsxs)("div",{className:c().demo__body,children:[(0,t.jsx)("div",{className:c().demo__content,children:n}),a&&(0,t.jsx)("div",{className:d([c().demo__pattern,c()[a]])})]})]})}},88820:function(e,s,n){"use strict";n.d(s,{Z:function(){return a.Z}});var a=n(39609)},3885:function(e,s,n){"use strict";n.d(s,{Z:function(){return c}});var a=n(85893),t=(n(67294),n(94184)),r=n.n(t),o=n(92814),d=n(51436),l=n(90723),i=n.n(l),c=function(e){var s=e.href,n=e.label,t=r().bind(i());return(0,a.jsxs)("a",{href:s,target:"_blank",rel:"noopener noreferrer",className:t(["link",i().externalLink]),children:[n,(0,a.jsx)("span",{className:i().externalLink__icon,children:(0,a.jsx)(o.G,{icon:d.wlW})})]})}},73016:function(e,s,n){"use strict";n.d(s,{Z:function(){return l}});var a=n(85893),t=n(67294),r=n(35380),o=n.n(r),d=n(64388),l=function(){var e=(0,t.useState)(0),s=e[0],n=e[1];return(0,d.Z)(d.j.SCROLL,(function(){var e=document.documentElement.scrollHeight-document.documentElement.clientHeight,s=window.scrollY,a=Math.round(100*s/e);n(a)})),(0,a.jsx)("div",{className:o().progressScroll,children:(0,a.jsx)("div",{className:o().progressScroll__tracker,style:{width:"".concat(s,"%")}})})}},99074:function(e,s,n){"use strict";n.d(s,{Z:function(){return g}});var a=n(85893),t=n(67294),r=n(41664),o=n.n(r),d=n(92814),l=n(51436),i=n(94184),c=n.n(i),_=n(24335),h=n.n(_),g=function(e){var s=e.title,n=e.highlight,r=e.category,i=e.date,_=e.children,g=e.nextLink,p=e.nextLinkLabel,m=e.tags,u=c().bind(h()),x=(0,t.useMemo)((function(){return null===m||void 0===m?void 0:m.map((function(e){return(0,a.jsx)("li",{className:h().post__tag,children:e},e)}))}),[m]);return(0,a.jsx)("div",{className:h().post,children:(0,a.jsxs)("div",{className:"container",children:[(0,a.jsxs)("div",{className:h().post__header,children:[(null===m||void 0===m?void 0:m.length)&&(0,a.jsx)("ul",{className:h().post__tags,children:x}),(0,a.jsx)("h1",{className:h().post__title,children:s})]}),(0,a.jsxs)("div",{className:h().post__info,children:[(0,a.jsxs)("div",{className:h().post__details,children:[(0,a.jsx)("div",{className:h().post__category,children:r}),(0,a.jsx)("div",{className:h().post__date,children:i})]}),(0,a.jsx)("p",{className:h().post__highlight,children:n})]}),(0,a.jsx)("div",{className:h().post__content,children:_}),(0,a.jsxs)("div",{className:h().post__footer,children:[(0,a.jsx)(o(),{href:"/blog",children:(0,a.jsxs)("a",{className:u(["link",h().post__link,h().back]),children:[(0,a.jsx)(d.G,{icon:l.Atv}),"Blog"]})}),g&&(0,a.jsx)(o(),{href:g,children:(0,a.jsxs)("a",{className:u(["link",h().post__link,h().next]),children:["Next",(0,a.jsx)(d.G,{icon:l.U23}),(0,a.jsx)("span",{className:h().post__next,children:p})]})})]})]})})}},87442:function(e,s,n){"use strict";n.r(s),n.d(s,{default:function(){return w}});var a,t=n(85893),r=n(67294),o=n(99074),d=n(73016),l=n(3885),i=n(92814),c=n(51436),_=n(88820),h=n(94184),g=n.n(h),p=n(20983),m=n.n(p);!function(e){e.PRIMARY="primary",e.SECONDARY="secondary",e.TERTIARY="tertiary"}(a||(a={}));var u,x=function(e){var s,n,o,d=e.title,l=e.variant,i=void 0===l?a.PRIMARY:l,c=g().bind(m()),_=(0,r.useState)(!1),h=_[0],p=_[1];return(0,t.jsx)("div",{id:d,className:c([m().dragAndDrop__card,m()[i],(s={},n=m().grabbing,o=h,n in s?Object.defineProperty(s,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):s[n]=o,s)]),draggable:!0,onDragStart:function(e){return function(e){e.dataTransfer.setData("text",d),p(!0)}(e)},onDragEnd:function(){p(!1)},children:d})};!function(e){e.PRIMARY="primary",e.SECONDARY="secondary",e.TERTIARY="tertiary"}(u||(u={}));var j=function(e){var s=e.children,n=(0,r.useRef)(null);return(0,t.jsx)("div",{ref:n,className:m().dragAndDrop__box,onDragOver:function(e){return function(e){e.preventDefault()}(e)},onDrop:function(e){return function(e){var s;e.preventDefault();var a=e.dataTransfer.getData("text"),t=document.getElementById(a);null===n||void 0===n||null===(s=n.current)||void 0===s||s.appendChild(t)}(e)},children:s})},v=function(){return(0,t.jsx)(_.Z,{children:(0,t.jsxs)("div",{className:m().dragAndDrop,children:[(0,t.jsxs)("div",{className:m().dragAndDrop__row,children:[(0,t.jsxs)("div",{className:m().dragAndDrop__column,children:[(0,t.jsxs)("div",{className:m().dragAndDrop__title,children:[(0,t.jsx)(i.G,{icon:c.Pk}),"To do"]}),(0,t.jsx)(j,{children:(0,t.jsx)(x,{title:"Learn drag and drop",variant:a.PRIMARY})})]}),(0,t.jsxs)("div",{className:m().dragAndDrop__column,children:[(0,t.jsxs)("div",{className:m().dragAndDrop__title,children:[(0,t.jsx)(i.G,{icon:c.Pk}),"Doing"]}),(0,t.jsx)(j,{})]}),(0,t.jsxs)("div",{className:m().dragAndDrop__column,children:[(0,t.jsxs)("div",{className:m().dragAndDrop__title,children:[(0,t.jsx)(i.G,{icon:c.Pk}),"Done"]}),(0,t.jsx)(j,{})]})]}),(0,t.jsxs)("div",{className:m().dragAndDrop__footer,children:[(0,t.jsx)("div",{className:m().dragAndDrop__subtitle,children:"Try out to drag and drop cards between boxes:"}),(0,t.jsxs)("div",{className:m().dragAndDrop__stack,children:[(0,t.jsx)(x,{title:"Drink coffee",variant:a.SECONDARY}),(0,t.jsx)(x,{title:"Commit changes",variant:a.TERTIARY})]})]})]})})},b=n(95319),f=n(11428),N=n(876),D=n.n(N),w=function(){var e=(0,r.useRef)(null);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(d.Z,{}),(0,t.jsxs)(o.Z,{title:"Drag and Drop",highlight:"In this guide I will show you how to implement drag and drop in your application without using any third party libraries.",category:"tutorial",date:"1 sep, 2022",tags:["React"],children:[(0,t.jsxs)("section",{children:[(0,t.jsx)("h2",{children:"What is a drag and drop?"}),(0,t.jsxs)("p",{children:["Drag and drop is a common interaction technique added to allow users to move things around on a web page. It is a perfect fit for applications like kanban board (e.g. ",(0,t.jsx)(l.Z,{href:"https://trello.com/",label:"Trello"}),") and todo list where dragging transfers data between different parts of the application."]}),(0,t.jsxs)("p",{children:["Most of the guides are using some third party libraries: ",(0,t.jsx)(l.Z,{href:"https://react-dnd.github.io/react-dnd/about",label:"React DnD"}),", ",(0,t.jsx)(l.Z,{href:"https://github.com/atlassian/react-beautiful-dnd",label:"React Beautiful DnD"}),", etc. It's ok to use it, but in this guide, you'll learn about the native drag and drop API and how to use it. This interface enable applications to use drag and drop features in browsers just from under the hood. It sounds amazing, let's try it!"]}),(0,t.jsx)("p",{className:"spacer bottom medium",children:"But first of all, let's start with the live demo to see the algorithm in action. You can drag and drop cards below between three columns: to do, doing and done."}),(0,t.jsx)(v,{})]}),(0,t.jsxs)("section",{children:[(0,t.jsx)("p",{children:"There are two things you need to know about drag and drop API:"}),(0,t.jsx)("h2",{children:"1. Types of elements"}),(0,t.jsx)("p",{children:"There are two types of elements:"}),(0,t.jsxs)("ol",{className:"list ordered",children:[(0,t.jsxs)("li",{className:"list__item",children:[(0,t.jsx)("span",{className:"highlighted ghost",children:"Draggable:"})," elements ",(0,t.jsx)("span",{className:"accented accented--primary",children:"what"})," we want to drag somewhere"]}),(0,t.jsxs)("li",{className:"list__item",children:[(0,t.jsx)("span",{className:"highlighted ghost",children:"Droppable"})," or target: elements ",(0,t.jsx)("span",{className:"accented accented--primary",children:"where"})," we want to drop our draggable elements"]})]}),(0,t.jsx)("p",{children:"How to make elements draggable? All you need is to make an element draggable by adding draggable attribute and add onDragStart event and handler."}),(0,t.jsx)("div",{className:D().post__snippet,children:(0,t.jsxs)("div",{className:"row",children:[(0,t.jsx)("div",{className:"col col--50 col--tablet-100",children:(0,t.jsx)(b.Z,{language:f.uw.HTML,name:"index",code:'<div\n  class="draggable"\n  onDragStart={() => handleDragStart()}\n  draggable>\n  {{ draggable element }}\n</div>'})}),(0,t.jsx)("div",{className:"col col--50 col--tablet-100",children:(0,t.jsx)(b.Z,{language:f.uw.JAVASCRIPT,name:"component",code:"const handleDragStart = () => {\n  {{ init dragging }}\n};"})})]})}),(0,t.jsxs)("p",{children:["How to make elements droppable? No additional attributes like aboves ",(0,t.jsx)("code",{className:"highlighted secondary",children:"draggable"})," required. You have to attach handlers to all drop targets to handle drop events. Wait, what events? Now is time to find out the second thing: drag and drop events."]})]}),(0,t.jsxs)("section",{children:[(0,t.jsxs)("h2",{children:["2. Events",(0,t.jsxs)("button",{className:D().post__anchor,onClick:function(){var s;null===(s=e.current)||void 0===s||s.scrollIntoView({behavior:"smooth"})},children:["*",(0,t.jsx)("span",{className:"visually-hidden",children:"Scroll to note"})]})]}),(0,t.jsxs)("p",{children:["Drag and drop operation can be divided into two parts: dragging and then dropping ",(0,t.jsx)("span",{className:"strikethroughed dark",children:"a bit obvious, huh"}),". Dragging begins when a user selects a draggable element and then drags it to a droppable element where dropping part starts. The operation ends when user releases the dragged element."]}),(0,t.jsx)("p",{children:"Let's look at the events of each part. Several event types are fired during dragging. These events fire in the following sequence:"}),(0,t.jsxs)("ol",{className:"list ordered",children:[(0,t.jsxs)("li",{className:"list__item",children:[(0,t.jsx)("span",{className:"highlighted ghost",children:"onDragStart"})," fires only when a user selects a draggable element. It indicates the user starts dragging the element."]}),(0,t.jsxs)("li",{className:"list__item",children:[(0,t.jsx)("span",{className:"highlighted ghost",children:"onDrag"})," fires repeatedly as long as a user drags the element."]}),(0,t.jsxs)("li",{className:"list__item",children:[(0,t.jsx)("span",{className:"highlighted ghost",children:"onDragEnd"})," fires when user stops dragging the element."]})]}),(0,t.jsx)("p",{className:"spacer large top",children:"These events fire in the following sequence when user drags the element over a droppable element or a drop target:"}),(0,t.jsxs)("ol",{className:"list ordered",children:[(0,t.jsxs)("li",{className:"list__item",children:[(0,t.jsx)("span",{className:"highlighted ghost",children:"onDragEnter"})," fires when the dragged element enters a valid drop target."]}),(0,t.jsxs)("li",{className:"list__item",children:[(0,t.jsx)("span",{className:"highlighted ghost",children:"onDragOver"})," fires repeatedly as long as user are dragging the element within the boundary of the drop target."]}),(0,t.jsxs)("li",{className:"list__item",children:[(0,t.jsx)("span",{className:"highlighted ghost",children:"onDragLeave"})," or ",(0,t.jsx)("span",{className:"highlighted ghost",children:"onDrop"}),". These events are fires depending on the type of drop. onDragLeave fires when  the element leaves a valid drop target. onDrop fires instead of the onDragLeave event when the element is dropped on a valid drop target."]})]}),(0,t.jsx)("div",{className:D().post__snippet,children:(0,t.jsxs)("div",{className:"row",children:[(0,t.jsx)("div",{className:"col col--50 col--tablet-100",children:(0,t.jsx)(b.Z,{language:f.uw.HTML,name:"index",code:"<div\n  class='droppable'\n  onDragEnd={() => handleDragEnd()}\n  onDragOver={(e) => allowDrop(e)}\n  onDrop={(e) => handleDrop(e)}>\n  {{ droppable element }}\n</div>\n"})}),(0,t.jsx)("div",{className:"col col--50 col--tablet-100",children:(0,t.jsx)(b.Z,{language:f.uw.JAVASCRIPT,name:"index",code:"const handleDragEnd = () => {\n  {{ handle drag end }}\n};\n\nconst allowDrop = (e) => {\n  e.preventDefault();\n\n  {{ handle drag over }}\n};\n\nconst handleDrop = (e) => {\n  e.preventDefault();\n\n  {{ handle drop the draggable element}}\n};"})})]})}),(0,t.jsxs)("p",{children:["You could notice ",(0,t.jsx)("code",{className:"highlighted secondary",children:"e.preventDefault()"})," method is using in the example above. You must cancel the default action calling this method. It's necessary because in the event you're dragging, the browser'll try to execute that and not do drag and drop"]})]}),(0,t.jsxs)("section",{children:[(0,t.jsx)("div",{className:D().post__snippet,children:(0,t.jsxs)("div",{className:"row",children:[(0,t.jsxs)("div",{className:"col col--50 col--tablet-100",children:[(0,t.jsx)("h2",{children:"Hint"}),(0,t.jsx)("p",{children:"Let me give you a little hint."}),(0,t.jsxs)("p",{children:["Add to the draggable element ",(0,t.jsx)("code",{className:"highlighted secondary",children:"cursor: grab;"})," and ",(0,t.jsx)("code",{className:"highlighted secondary",children:"cursor: grabbing;"})," properties to improve user experience. In general it indicates that something can be grabbed or is being grabbed."]}),(0,t.jsx)("p",{children:"In the example below you can see implementation. onDragStart event is used here to set grab cursor to indicate that the element was grabbed. onDragEnd fires when user stops dragging the element so this event resets it."})]}),(0,t.jsx)("div",{className:"col col--50 col--tablet-100 spacer bottom medium",children:(0,t.jsx)(b.Z,{language:f.uw.CSS,name:"style",code:".draggable {\n  {{ draggable element style }}\n  cursor: grab;\n\n  &.grabbing {\n    cursor: grabbing;\n  }\n}"})})]})}),(0,t.jsx)("div",{className:D().post__snippet,children:(0,t.jsxs)("div",{className:"row",children:[(0,t.jsx)("div",{className:"col col--50 col--tablet-100",children:(0,t.jsx)(b.Z,{language:f.uw.HTML,name:"index",code:"<div\n  className={`\n    draggable\n    ${isGrabbing || 'grabbing'}\n  `}\n  draggable\n  onDragStart={(e) => handleDragStart(e)}\n  onDragEnd={() => handleDragEnd()}>\n  {{ draggable element }}\n</div>"})}),(0,t.jsx)("div",{className:"col col--50 col--tablet-100",children:(0,t.jsx)(b.Z,{language:f.uw.JAVASCRIPT,name:"component",code:"const [isGrabbing, setIsGrabbing] = useState(false);\n\nconst handleDragStart = (e): => {\n  {{ do something with e }}\n\n  setIsGrabbing(true);\n};\n\nconst handleDragEnd = () => {\n  setIsGrabbing(false);\n};"})})]})})]}),(0,t.jsxs)("section",{children:[(0,t.jsx)("h2",{children:"Summary"}),(0,t.jsx)("p",{children:"All you have to do for implementation of drag and drop on your application:"}),(0,t.jsxs)("ol",{className:"list ordered",children:[(0,t.jsx)("li",{className:"list__item",children:"Add  draggable attribute to an element you want to drag and drop."}),(0,t.jsx)("li",{className:"list__item",children:"Attach onDragStart handler to selected draggable element."}),(0,t.jsx)("li",{className:"list__item",children:"Attach handlers to all drop targets."})]}),(0,t.jsx)("p",{children:"And that's it! "})]}),(0,t.jsx)("section",{children:(0,t.jsxs)("p",{ref:e,className:"note",children:[(0,t.jsx)("span",{className:"note__title accented accented--primary",children:"Note:"})," React events are named using camelCase, rather than lowercase. You have to rename events from camelCase to lowercase if you want implement drag and drop in JavaScript app, e.g. ",(0,t.jsx)("span",{className:"highlighted ghost",children:"dragstart"})," instead of ",(0,t.jsx)("span",{className:"highlighted ghost",children:"onDragStart"}),". All the rest work the same way."]})}),(0,t.jsxs)("section",{children:[(0,t.jsx)("h2",{children:"Read more"}),(0,t.jsxs)("ol",{className:"list ordered",children:[(0,t.jsx)("li",{className:"list__item",children:(0,t.jsx)(l.Z,{href:"https://developer.mozilla.org/en-US/docs/Web/API/HTML_Drag_and_Drop_API",label:"Drag and Drop API docs"})}),(0,t.jsx)("li",{className:"list__item",children:(0,t.jsx)(l.Z,{href:"https://html.spec.whatwg.org/multipage/dnd.html#dnd",label:"Drag and drop HTML standart"})}),(0,t.jsx)("li",{className:"list__item",children:(0,t.jsx)(l.Z,{href:"https://developer.mozilla.org/en-US/docs/Web/CSS/cursor",label:"CSS cursor property docs"})})]})]})]})]})}},28964:function(e){e.exports={code:"code_code__cWoxw",code__header:"code_code__header__bW8qj",code__name:"code_code__name__qOcf0",code__body:"code_code__body__rSKiK",code__control:"code_code__control__eLB7Z",demo__control:"code_demo__control__aH9jM"}},4391:function(e){e.exports={demo:"demo_demo__PVH_b",demo__header:"demo_demo__header__CIf7H",demo__icon:"demo_demo__icon__G40Ug",demo__name:"demo_demo__name__K0CqU",demo__body:"demo_demo__body__sg3IT",demo__control:"demo_demo__control__HRdfP",demo__pattern:"demo_demo__pattern__IPmnA",wavy:"demo_wavy__o9WSD",cross:"demo_cross__0BfRR",smiley:"demo_smiley__N0Gv8",demo__content:"demo_demo__content__QW31p"}},90723:function(e){e.exports={externalLink__icon:"external-link_externalLink__icon__QpxN3"}},35380:function(e){e.exports={progressScroll:"progress-scroll_progressScroll__IM5Sn",progressScroll__tracker:"progress-scroll_progressScroll__tracker__OOKkH"}},20983:function(e){e.exports={dragAndDrop__title:"drag-and-drop_dragAndDrop__title__dRDto",dragAndDrop__subtitle:"drag-and-drop_dragAndDrop__subtitle__bWCNK",dragAndDrop__row:"drag-and-drop_dragAndDrop__row__8ZQAo",dragAndDrop__column:"drag-and-drop_dragAndDrop__column__sJbzC",dragAndDrop__box:"drag-and-drop_dragAndDrop__box__xuKHj",dragAndDrop__footer:"drag-and-drop_dragAndDrop__footer__yBgSV",dragAndDrop__stack:"drag-and-drop_dragAndDrop__stack__Ii44s",dragAndDrop__card:"drag-and-drop_dragAndDrop__card__PfSeh",grabbing:"drag-and-drop_grabbing__bAe7D",primary:"drag-and-drop_primary__4grhD",secondary:"drag-and-drop_secondary__T7M7k",tertiary:"drag-and-drop_tertiary__5U_H1"}},24335:function(e){e.exports={post:"post_post___Jkkf",post__header:"post_post__header__u0SR7",post__title:"post_post__title__QMMZV",post__details:"post_post__details__0xNYq",post__category:"post_post__category___pGRB",post__date:"post_post__date__x2U7c",post__highlight:"post_post__highlight__l6PM0",post__content:"post_post__content___SEHz",post__footer:"post_post__footer___LEgT",post__link:"post_post__link__a02w1",back:"post_back__yoqeo",next:"post_next__1PVG9",post__next:"post_post__next__CSnMP",post__tags:"post_post__tags__Nr98i",post__tag:"post_post__tag__icLsF"}},876:function(e){e.exports={post:"post_post__agllB",post__details:"post_post__details__GzwUR",post__snippet:"post_post__snippet__QK_Ex",post__anchor:"post_post__anchor__vlSCp"}}},function(e){e.O(0,[319,9774,2888,179],(function(){return s=11726,e(e.s=s);var s}));var s=e.O();_N_E=s}]);