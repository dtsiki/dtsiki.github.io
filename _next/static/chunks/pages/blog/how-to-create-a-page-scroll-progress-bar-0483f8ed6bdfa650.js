(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[17],{80113:function(e,s,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/blog/how-to-create-a-page-scroll-progress-bar",function(){return t(80201)}])},11428:function(e,s,t){"use strict";t.d(s,{uw:function(){return n}});var n,r,o=t(85893),a=t(92814),c=t(51436),l=t(35192),i=t(26671),d=t(94184),_=t.n(d),p=t(28964),h=t.n(p);!function(e){e.HTML="html",e.CSS="css",e.JAVASCRIPT="javascript",e.TYPESCRIPT="typescript",e.REACT="react",e.SCSS="scss"}(n||(n={})),function(e){e.html="html",e.css="css",e.javascript="js",e.typescript="ts",e.react="tsx",e.scss="scss"}(r||(r={}));s.ZP=function(e){var s,t,n,d=e.name,p=e.customName,m=e.code,u=e.language,x=e.showOnlyCode,g=void 0!==x&&x,j=e.showLineNumbers,v=void 0===j||j,f=e.startingLineNumber,N=e.isTerminal,b=void 0!==N&&N,w=e.isNameUppercase,k=void 0===w||w,S=_().bind(h()),y=function(){navigator.clipboard.writeText(m)};return(0,o.jsx)("div",{className:h().code,children:g?(0,o.jsxs)("div",{className:h().code__highlighter,children:[(0,o.jsx)("div",{className:h().code__actions,children:(0,o.jsxs)("button",{className:h().code__control,onClick:y,children:[(0,o.jsx)(a.G,{icon:c.kZ_}),(0,o.jsx)("span",{className:"visually-hidden",children:"Copy to clipboard"})]})}),(0,o.jsx)(l.Z,{startingLineNumber:f,language:u||"plaintext",showLineNumbers:v,style:i.Y3,children:m})]}):(0,o.jsxs)("div",{className:h().code__wrapper,children:[(0,o.jsxs)("div",{className:h().code__header,children:[(0,o.jsxs)("div",{className:S([h().code__name,(s={},t=h().uppercase,n=k,t in s?Object.defineProperty(s,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):s[t]=n,s)]),children:[(0,o.jsx)(a.G,{icon:b?c.Jw3:c.gMD}),p||u&&d&&"".concat(d,".").concat(r[u])]}),(0,o.jsx)("div",{className:h().code__actions,children:(0,o.jsxs)("button",{className:h().code__control,onClick:y,children:[(0,o.jsx)(a.G,{icon:c.kZ_}),(0,o.jsx)("span",{className:"visually-hidden",children:"Copy to clipboard"})]})})]}),(0,o.jsx)("div",{className:h().code__body,children:(0,o.jsx)(l.Z,{language:u||"plaintext",showLineNumbers:!b&&v,style:i.Y3,children:m})})]})})}},95319:function(e,s,t){"use strict";t.d(s,{Z:function(){return n.ZP}});var n=t(11428)},5110:function(e,s,t){"use strict";t.d(s,{Z:function(){return d}});var n=t(85893),r=t(92814),o=t(51436),a=t(35192),c=t(26671),l=t(61957),i=t.n(l),d=function(e){var s=e.code,t=e.isCopyable,l=void 0===t||t;return(0,n.jsx)("div",{className:i().example,children:(0,n.jsxs)("div",{className:i().code__wrapper,children:[l&&(0,n.jsx)("div",{className:i().example__actions,children:(0,n.jsxs)("button",{className:i().example__control,onClick:function(){navigator.clipboard.writeText(s)},children:[(0,n.jsx)(r.G,{icon:o.kZ_}),(0,n.jsx)("span",{className:"visually-hidden",children:"Copy to clipboard"})]})}),(0,n.jsx)(a.Z,{language:"plaintext",showLineNumbers:!1,style:c.Y3,children:s})]})})}},3885:function(e,s,t){"use strict";t.d(s,{Z:function(){return d}});var n=t(85893),r=(t(67294),t(94184)),o=t.n(r),a=t(92814),c=t(51436),l=t(90723),i=t.n(l),d=function(e){var s=e.href,t=e.label,r=o().bind(i());return(0,n.jsxs)("a",{href:s,target:"_blank",rel:"noopener noreferrer",className:r(["link",i().externalLink]),children:[t,(0,n.jsx)("span",{className:i().externalLink__icon,children:(0,n.jsx)(a.G,{icon:c.wlW})})]})}},85276:function(e,s,t){"use strict";t.d(s,{Z:function(){return d}});var n,r,o=t(85893),a=(t(67294),t(94184)),c=t.n(a),l=t(31416),i=t.n(l);!function(e){e.SECONDARY="secondary",e.PRIMARY="primary"}(n||(n={})),function(e){e.DIV="div",e.FIRST_HEADING="h1",e.SECOND_HEADING="h2"}(r||(r={}));var d=function(e){var s=e.element,t=e.children,r=e.variant,a=void 0===r?n.PRIMARY:r,l=e.isUnpaired,d=void 0!==l&&l,_=e.isSingle,p=void 0!==_&&_,h=c().bind(i());return p?(0,o.jsxs)("span",{className:h([i().htmlTag,i().single]),children:["<",t,">"]}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("span",{className:h([i().htmlTag,i()[a]]),children:["<",s,">"]}),t&&t,!d&&(0,o.jsxs)("span",{className:h([i().htmlTag,i()[a]]),children:["</",s,">"]})]})}},73016:function(e,s,t){"use strict";t.d(s,{Z:function(){return l}});var n=t(85893),r=t(67294),o=t(35380),a=t.n(o),c=t(64388),l=function(){var e=(0,r.useState)(0),s=e[0],t=e[1];return(0,c.Z)(c.j.SCROLL,(function(){var e=document.documentElement.scrollHeight-document.documentElement.clientHeight,s=window.scrollY,n=Math.round(100*s/e);t(n)})),(0,n.jsx)("div",{className:a().progressScroll,children:(0,n.jsx)("div",{className:a().progressScroll__tracker,style:{width:"".concat(s,"%")}})})}},95384:function(e,s,t){"use strict";t.d(s,{Z:function(){return l}});var n=t(85893),r=(t(67294),t(92814)),o=t(51436),a=t(59691),c=t.n(a),l=function(){return(0,n.jsx)("div",{className:c().thanks,children:(0,n.jsxs)("div",{className:"container",children:[(0,n.jsx)("span",{className:c().thanks__heart,children:(0,n.jsx)(r.G,{icon:o.m6i})}),(0,n.jsx)("p",{className:"heading-l3",children:"Thanks for reading!"})]})})}},99074:function(e,s,t){"use strict";t.d(s,{Z:function(){return m}});var n=t(85893),r=t(67294),o=t(41664),a=t.n(o),c=t(92814),l=t(51436),i=t(94184),d=t.n(i),_=t(2962),p=t(24335),h=t.n(p),m=function(e){var s=e.title,t=e.highlight,o=e.metaDescription,i=e.metaTags,p=e.category,m=e.date,u=e.children,x=e.nextLink,g=e.nextLinkLabel,j=e.tags,v=e.isWorkInProgress,f=d().bind(h()),N=(0,r.useMemo)((function(){return null===j||void 0===j?void 0:j.map((function(e){return(0,n.jsx)("li",{className:h().post__tag,children:e},e)}))}),[j]);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(_.PB,{title:"@dtsiki/blog: ".concat(s),description:o,additionalMetaTags:[{name:"keywords",content:i}]}),(0,n.jsx)("div",{className:h().post,children:(0,n.jsxs)("div",{className:"container",children:[(0,n.jsxs)("div",{className:h().post__header,children:[(null===j||void 0===j?void 0:j.length)&&(0,n.jsx)("ul",{className:h().post__tags,children:N}),(0,n.jsxs)("h1",{className:h().post__title,children:[s,v&&(0,n.jsxs)("span",{className:f([h().post__alert]),children:[(0,n.jsx)("span",{className:f([h().post__icon,h().wrapper]),children:(0,n.jsx)(c.G,{icon:l.zc})}),(0,n.jsx)("span",{className:f([h().post__icon,h().icon]),children:(0,n.jsx)(c.G,{icon:l.$tV})}),(0,n.jsx)("span",{className:"visually-hidden",children:"Work in progress"})]})]})]}),(0,n.jsxs)("div",{className:h().post__info,children:[(0,n.jsxs)("div",{className:h().post__details,children:[(0,n.jsx)("div",{className:h().post__category,children:p}),(0,n.jsx)("div",{className:h().post__date,children:m})]}),(0,n.jsx)("p",{className:h().post__highlight,children:t})]}),(0,n.jsx)("div",{className:h().post__content,children:u}),(0,n.jsxs)("div",{className:h().post__footer,children:[(0,n.jsx)(a(),{href:"/blog",children:(0,n.jsxs)("a",{className:f(["link",h().post__link,h().back]),children:[(0,n.jsx)(c.G,{icon:l.Atv}),"Blog"]})}),x&&(0,n.jsx)(a(),{href:x,children:(0,n.jsxs)("a",{className:f(["link",h().post__link,h().next]),children:["Next",(0,n.jsx)(c.G,{icon:l.U23}),(0,n.jsx)("span",{className:h().post__next,children:g})]})})]})]})})]})}},65133:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});var n=t(85893),r=t(67294),o=t(3885),a=function(e){var s=e.items,t=(0,r.useMemo)((function(){return s.map((function(e){var s=e.id,t=e.link,r=e.label;return(0,n.jsx)("li",{className:"list__item",children:(0,n.jsx)(o.Z,{href:t,label:r})},s)}))}),[s]);return(0,n.jsxs)("section",{children:[(0,n.jsx)("h2",{children:"Read more"}),(0,n.jsx)("ol",{className:"list ordered",children:t})]})}},80201:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return N}});var n=t(85893),r=(t(67294),t(25675)),o=t.n(r),a=t(53416),c=t(99074),l=t(73016),i=t(3885),d=t(10242),_=t(26343),p=t(95384),h=t(5110),m=t(85276),u=t(95319),x=t(11428),g=t(65133),j=t(38141),v=t.n(j),f={src:"/_next/static/media/heights.390fa2ea.svg",height:402,width:816},N=function(){var e=[{id:(0,a.x0)(),link:"https://create-react-app.dev/",label:"React Create App"},{id:(0,a.x0)(),link:"https://react.dev/reference/react/hooks",label:"React Hooks"},{id:(0,a.x0)(),link:"https://usehooks-ts.com/react-hook/use-event-listener",label:"useEventListener"},{id:(0,a.x0)(),link:"https://developer.mozilla.org/en-US/docs/Web/API/Element/scrollHeight",label:"What is scroll height"},{id:(0,a.x0)(),link:"https://developer.mozilla.org/en-US/docs/Web/API/Element/clientHeight",label:"What is client height"}];return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(d.Z,{size:_.pK.CUSTOM,variant:_.ho.SECONDARY,pattern:_.f5.SPRINKLES,height:400,hasOverlay:!0}),(0,n.jsx)(l.Z,{}),(0,n.jsxs)(c.Z,{title:"How to create a page scroll progress bar",highlight:"In this quick tutorial you will learn how to create a simple scroll progress bar using React step by step.",category:"tutorial",date:"29 apr, 2024",metaDescription:"Scroll progress bar React",metaTags:"React, JavaScript, tutorial, progress scroll bar, scroll bar, scroll bar indicator, \u043f\u0440\u043e\u043a\u0440\u0443\u0442\u043a\u0430, \u043a\u0430\u0441\u0442\u043e\u043c\u043d\u044b\u0439 \u0441\u043a\u0440\u043e\u043b\u043b \u0431\u0430\u0440",tags:["React"],children:[(0,n.jsx)("section",{children:(0,n.jsxs)("p",{className:"note spacer bottom large",children:["It's supposed that you have already have your configured project. If you don't have one, I recommend install React via ",(0,n.jsx)(i.Z,{href:"https://create-react-app.dev",label:"Create React App"})]})}),(0,n.jsxs)("section",{children:[(0,n.jsx)("h2",{children:"Step 1: Create a component in your project directory"}),(0,n.jsxs)("p",{children:["For example, I created ",(0,n.jsx)(m.Z,{isSingle:!0,children:"ProgressScroll"})," component folder. There are two files inside: the component file itself ",(0,n.jsx)("code",{children:"ProgressScroll.tsx"})," and the style file ",(0,n.jsx)("code",{children:"progress-scroll.module.scss"}),". As you can see I'm using TypeScript and Sass, but feel free and use any syntax and preprocessor you want, it will not affect the result."]}),(0,n.jsx)("div",{className:v().post__snippet,children:(0,n.jsx)("div",{className:"row",children:(0,n.jsx)("div",{className:"col col--100 col--tablet-100",children:(0,n.jsx)(h.Z,{code:".\n\u2514\u2500\u2500 Your awesome project/\n    \u2514\u2500\u2500 src/\n        \u2514\u2500\u2500 components/\n            \u2514\u2500\u2500 ProgressScroll/\n                \u251c\u2500\u2500 ProgressScroll.tsx\n                \u2514\u2500\u2500 progress-scroll.module.scss",isCopyable:!1})})})}),(0,n.jsx)("p",{children:"The code below is an example of an empty component. Next we will add some \u2728code\u2728 to this file."}),(0,n.jsx)("div",{className:v().post__snippet,children:(0,n.jsx)("div",{className:"row",children:(0,n.jsx)("div",{className:"col col--100 col--tablet-100",children:(0,n.jsx)(u.Z,{code:"import React, { ReactElement } from 'react';\n\nexport const ProgressScroll = (): ReactElement => {\n  return (\n    <div></div>\n  );\n};",language:x.uw.REACT,showLineNumbers:!0,name:"ProgressScroll",isNameUppercase:!1})})})})]}),(0,n.jsxs)("section",{children:[(0,n.jsx)("h2",{children:"Step 2: Add a progress state"}),(0,n.jsxs)("p",{children:["To display scrolling progress we need to store scroll progress somewhere. React Hook ",(0,n.jsx)("code",{children:"useState"})," is ideal for it. Add a state ",(0,n.jsx)("code",{children:"[progress, setProgress]"})," to your component. Don't forget to import ",(0,n.jsx)("code",{children:"useState"}),"."]}),(0,n.jsx)("div",{className:v().post__snippet,children:(0,n.jsx)("div",{className:"row",children:(0,n.jsx)("div",{className:"col col--100 col--tablet-100",children:(0,n.jsx)(u.Z,{code:"import React, { ReactElement, useState } from 'react';\n\nexport const ProgressScroll = (): ReactElement => {\n  const [progress, setProgress] = useState<number>(0);\n\n  return (\n    <div></div>\n  );\n};",language:x.uw.TYPESCRIPT,showLineNumbers:!0,name:"ProgressScroll",isNameUppercase:!1})})})}),(0,n.jsxs)("p",{children:["The first value, ",(0,n.jsx)("code",{children:"progress"}),", is our scroll progress value or how many percent did we scroll down the page. The second value, ",(0,n.jsx)("code",{children:"setProgress"}),", is the function that is used to update our state."]})]}),(0,n.jsxs)("section",{children:[(0,n.jsx)("h2",{children:"Step 3: Add some style"}),(0,n.jsx)("p",{children:"Before we add magic let's style our scroll progress bar. Check the code below, there are updated markup:"}),(0,n.jsx)("div",{className:v().post__snippet,children:(0,n.jsx)("div",{className:"row",children:(0,n.jsx)("div",{className:"col col--100 col--tablet-100",children:(0,n.jsx)(u.Z,{code:"import React, { ReactElement, useState } from 'react';\n\nimport styles from './progress-scroll.module.scss';\n\nexport const ProgressScroll = (): ReactElement => {\n  const [progress, setProgress] = useState<number>(0);\n\n  return (\n    <div className={styles.progressScroll}>\n      <div\n        className={styles.progressScroll__bar}\n        style={{ width: `${progress}%` }} />\n    </div>\n  );\n};",language:x.uw.TYPESCRIPT,showLineNumbers:!0,name:"ProgressScroll",isNameUppercase:!1})})})}),(0,n.jsx)("p",{children:"Of course we need to add some style:"}),(0,n.jsx)("div",{className:v().post__snippet,children:(0,n.jsx)("div",{className:"row",children:(0,n.jsx)("div",{className:"col col--100 col--tablet-100",children:(0,n.jsx)(u.Z,{code:".progressScroll {\n    position: fixed;\n    top: 0;\n    z-index: 10000;\n    width: 100%;\n    height: 5px;\n    background: LightGray;\n\n    &__tracker {\n      height: 100%;\n      background-color: DarkViolet;\n      transition: 0.5s width;\n    }\n  }",language:x.uw.SCSS,showLineNumbers:!0,name:"progress-scroll.module",isNameUppercase:!1})})})}),(0,n.jsxs)("p",{children:["A few notes on the style. ",(0,n.jsx)("code",{children:"z-index"})," should be such that the scroll progress bar appears on top of all elements on your page. ",(0,n.jsx)("code",{children:"height"}),", ",(0,n.jsx)("code",{children:"background"})," and ",(0,n.jsx)("code",{children:"background-color"})," can be anything you like."]}),(0,n.jsx)("p",{children:"If you run the component now, you will just see a gray bar at the top of the page. It's time for magic!"})]}),(0,n.jsxs)("section",{children:[(0,n.jsx)("h2",{children:"Step 4: Add magic"}),(0,n.jsxs)("p",{children:["It's right around the corner. Before we added the scroll progress state. Now let's add a function that will calculate scrolling progress: ",(0,n.jsx)("code",{children:"handleScroll()"}),". Also we will use ",(0,n.jsx)("code",{children:"useEventListener"})," hook. It's a custom hook that attaches event listeners to DOM elements, the window, or media query lists. You can check it ",(0,n.jsx)(i.Z,{href:"https://usehooks-ts.com/react-hook/use-event-listener",label:"here"}),". About React custom hooks you can read ",(0,n.jsx)(i.Z,{href:"https://react.dev/learn/reusing-logic-with-custom-hooks",label:"here"}),"."]}),(0,n.jsx)("div",{className:v().post__snippet,children:(0,n.jsx)("div",{className:"row",children:(0,n.jsx)("div",{className:"col col--100 col--tablet-100",children:(0,n.jsx)(u.Z,{code:"import React, { ReactElement, useState } from 'react';\nimport useEventListener, { Event } from 'src/hooks/useEventListener';\n\nimport styles from './progress-scroll.module.scss';\n\nexport const ProgressScroll = (): ReactElement => {\n  const [progress, setProgress] = useState<number>(0);\n\n  const handleScroll = (): void => {\n    const height = document.documentElement.scrollHeight - document.documentElement.clientHeight;\n    const scrolledHeight = window.scrollY;\n    const scrolledPercent = Math.round((scrolledHeight * 100) / height);\n\n    setProgress(scrolledPercent);\n  };\n\n  useEventListener(Event.SCROLL, handleScroll);\n\n  return (\n    <div className={styles.progressScroll}>\n      <div\n        className={styles.progressScroll__bar}\n        style={{ width: `${progress}%` }} />\n    </div>\n  );\n};",language:x.uw.TYPESCRIPT,showLineNumbers:!0,name:"ProgressScroll",isNameUppercase:!1})})})}),(0,n.jsxs)("p",{className:"spacer bottom large top",children:["We will receive via ",(0,n.jsx)("code",{children:"DOM Event Listener"})," in ",(0,n.jsx)("code",{children:"handleScroll()"})," an information about scroll height and client height after each scroll. Here is difference between scroll height and client height:"]}),(0,n.jsx)("div",{className:v().post__image,children:(0,n.jsx)(o(),{src:f,layout:"responsive",objectFit:"cover"})}),(0,n.jsx)("p",{className:"spacer top large",children:"Then using the formula above we calculate the scrolling progress. If you want to see the final result just look at the top of this page and scroll up and down."})]}),(0,n.jsx)(g.Z,{items:e}),(0,n.jsx)(p.Z,{})]})]})}},28964:function(e){e.exports={code__wrapper:"code_code__wrapper__oNs_B",code__header:"code_code__header__bW8qj",code__name:"code_code__name__qOcf0",uppercase:"code_uppercase__rKOOh",code__body:"code_code__body__rSKiK",code__highlighter:"code_code__highlighter__RhRpK",code__control:"code_code__control__eLB7Z",demo__control:"code_demo__control__aH9jM",code:"code_code__cWoxw"}},61957:function(e){e.exports={example:"example_example__5428U",example__actions:"example_example__actions__N_u6T",example__control:"example_example__control__GXe_l"}},90723:function(e){e.exports={externalLink__icon:"external-link_externalLink__icon__QpxN3"}},31416:function(e){e.exports={htmlTag:"html-tag_htmlTag__HpA81",primary:"html-tag_primary__7jywi",secondary:"html-tag_secondary___TUWp",single:"html-tag_single__4ViUH"}},35380:function(e){e.exports={progressScroll:"progress-scroll_progressScroll__IM5Sn",progressScroll__tracker:"progress-scroll_progressScroll__tracker__OOKkH"}},59691:function(e){e.exports={thanks:"thanks_thanks__nISSt",thanks__heart:"thanks_thanks__heart__ZYu9x",beat:"thanks_beat__O_eif",appearFromLeft:"thanks_appearFromLeft__w9XSd",appearFromBottom:"thanks_appearFromBottom__vb_5E",appearFromTop:"thanks_appearFromTop__OYlER",appearFromRight:"thanks_appearFromRight__NsaLL",appearFromNowhere:"thanks_appearFromNowhere__VquTk",appearFromFront:"thanks_appearFromFront__Ji_jj",hideInFront:"thanks_hideInFront__LMZau",appearFromNearFront:"thanks_appearFromNearFront__rfp8Q",spin:"thanks_spin__TaKds",slide:"thanks_slide__xpFEy",shake:"thanks_shake__LbaSZ","up-and-down":"thanks_up-and-down__N47iq",neon:"thanks_neon__XfGSU"}},24335:function(e){e.exports={post:"post_post___Jkkf",post__header:"post_post__header__u0SR7",post__title:"post_post__title__QMMZV",post__details:"post_post__details__0xNYq",post__category:"post_post__category___pGRB",post__date:"post_post__date__x2U7c",post__highlight:"post_post__highlight__l6PM0",post__content:"post_post__content___SEHz",post__footer:"post_post__footer___LEgT",post__link:"post_post__link__a02w1",back:"post_back__yoqeo",next:"post_next__1PVG9",post__next:"post_post__next__CSnMP",post__tags:"post_post__tags__Nr98i",post__tag:"post_post__tag__icLsF",post__alert:"post_post__alert__jnyF6",post__icon:"post_post__icon___vjx2",wrapper:"post_wrapper__Xjhc4",icon:"post_icon__HUbEf"}},38141:function(e){e.exports={post:"post_post__yGQ5R",post__snippet:"post_post__snippet___hS_u"}},53416:function(e,s,t){"use strict";t.d(s,{x0:function(){return n}});let n=(e=21)=>crypto.getRandomValues(new Uint8Array(e)).reduce(((e,s)=>e+=(s&=63)<36?s.toString(36):s<62?(s-26).toString(36).toUpperCase():s>62?"-":"_"),"")}},function(e){e.O(0,[5675,319,1856,9774,2888,179],(function(){return s=80113,e(e.s=s);var s}));var s=e.O();_N_E=s}]);